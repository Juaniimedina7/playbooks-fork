settings:
  name: "Gauplus+Nuclei: Get the urls of a domain and search for email addresses"
  image: golang
  author:
    - https://github.com/bp0lr
    - https://github.com/projectdiscovery
  gallery:
    - https://files.catbox.moe/7tozqa.png
  example: satori run satori://email/gauplus-nuclei.yml -d DOMAIN="satori.ci" --report --output

gauplus-nuclei:
  install:
    - apt update >>/dev/null; apt install -qy git >>/dev/null
    - go install github.com/bp0lr/gauplus@latest 2>>/dev/null
    - go install github.com/projectdiscovery/nuclei/v3/cmd/nuclei@latest 2>>/dev/null
    - cd /tmp; git clone --depth 1 https://github.com/panch0r3d/nuclei-templates.git

  test:
    assertReturnCode: 0
    gauplus:
      - gauplus -providers commoncrawl -o output ${{DOMAIN}}

    nuclei:
      - nuclei -l output -t /tmp/nuclei-templates/email-extraction.yaml
